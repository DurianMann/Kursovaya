<Window x:Class="Kursovaya.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Кинотеатр" Height="800" Width="800"
        Style="{DynamicResource WindowStyle}" Closing="Window_Closing">
    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Шапка (логин/баланс) -->
            <RowDefinition Height="*"/>
            <!-- Основной контент (список фильмов) -->
            <RowDefinition Height="Auto"/>
            <!-- Кнопка "Выбрать места" -->
        </Grid.RowDefinitions>
        
        <Grid Grid.Row="0" Margin="5">
                
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
                
            <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="0,0,20,0">
                    <TextBlock Text="Логин:" Margin="5" Style="{DynamicResource LoginStyle}" HorizontalAlignment="Left"/>
                    <TextBlock x:Name="LoginLabel" Margin="5" Style="{DynamicResource LoginStyle}" HorizontalAlignment="Left"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="5">
                    <TextBlock Text="Баланс:" Style="{DynamicResource LoginStyle}" Margin="0,0,5,0"/>
                    <Label x:Name="BalanceLabel" FontSize="28" Margin="0,10,0,10"/>
                    <Button Content="+" Click="TopUp_Click" Style="{DynamicResource BaseButtonStyle}" 
                    Width="20" Height="20" Margin="10,0,0,0"/>
                </StackPanel>
                
                <Button Grid.Column="2" Content="Выйти из профиля" Click="LogOut_Click" 
                Style="{DynamicResource BaseButtonStyle}"/>
                    
                
                    
        </Grid>



        <StackPanel Grid.Row="1" Height="auto" Width="auto" VerticalAlignment="Stretch">
        <TextBlock Text="Выберите фильм" FontSize="20" Style="{DynamicResource TextBlockStyle}" />
        <ScrollViewer VerticalScrollBarVisibility="Auto" x:Name="scrollViewer" MinHeight="200" Height="auto" MaxHeight="700" CanContentScroll="False">
                        <ListBox x:Name="FilmList" SelectionChanged="FilmList_SelectionChanged" Height="auto" VerticalAlignment="Stretch" Margin="10" PreviewMouseWheel="FilmList_PreviewMouseWheel">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal" Margin="5">
                                        <Image Source="{Binding MoviePreview}" MaxHeight="200" Stretch="Uniform"/>
                                    <TextBlock Text="{Binding Title}" Style="{DynamicResource BigCaseStyle}"/>
                                    <TextBlock Text="{Binding Time}" Style="{DynamicResource TextBlockStyle}"/>
                                    <TextBlock Text="Цена:" Margin="10 10 0 10" Style="{DynamicResource TextBlockStyle}"/>
                                    <TextBlock Text="{Binding Price}" Margin="0 10 0 10" Style="{DynamicResource TextBlockStyle}"/>
                                    <TextBlock Text="р." Margin="0 10 10 10" Style="{DynamicResource TextBlockStyle}"/>
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </ScrollViewer>
        </StackPanel>
        <Button Grid.Row="2" Content="Выбрать места" 
        Style="{DynamicResource BaseButtonStyle}"
        Margin="10" MinHeight="30"
        Click="SelectSeats_Click"
        HorizontalAlignment="Stretch"/>
    </Grid>
</Window>